{"compress":true,"commitItems":[["8aef5820-49ff-4634-a482-01985f8015b4",1508303938962,"---\nstyle: ocean\n---\n类型转换\n===\n\n#### 21.1、在语句开始时执行类型转换。\n\n#### 21.2、字符串：\n\n```javascript\n//  => this.reviewScore = 9;\n\n// bad\nconst totalScore = this.reviewScore + '';\n\n// good\nconst totalScore = String(this.reviewScore);\n```\n#### 21.3、对数字使用 `parseInt` 转换，并带上类型转换的基数。\n\n```javascript\nconst inputValue = '4';\n\n// bad\nconst val = new Number(inputValue);\n\n// bad\nconst val = +inputValue;\n\n// bad\nconst val = inputValue >> 0;\n\n// bad\nconst val = parseInt(inputValue);\n\n// good\nconst val = Number(inputValue);\n\n// good\nconst val = parseInt(inputValue, 10);\n```\n#### 21.4、如果因为某些原因 parseInt 成为你所做的事的瓶颈而需要使用位操作解决[性能问题](http://jsperf.com/coercion-vs-casting/3)时，留个注释说清楚原因和你的目的。\n\n```javascript\n// good\n/**\n * 使用 parseInt 导致我的程序变慢，\n * 改成使用位操作转换数字快多了。\n */\nconst val = inputValue >> 0;\n```\n#### 21.5、**注:** 小心使用位操作运算符。数字会被当成 [64 位值](http://es5.github.io/#x4.3.19)，但是位操作运算符总是返回 32 位的整数（[参考](http://es5.github.io/#x11.7)）。位操作处理大于 32 位的整数值时还会导致意料之外的行为。[关于这个问题的讨论](https://github.com/airbnb/javascript/issues/109)。最大的 32 位整数是 2,147,483,647：\n\n```javascript\n2147483647 >> 0 //=> 2147483647\n2147483648 >> 0 //=> -2147483648\n2147483649 >> 0 //=> -2147483647\n```\n#### 21.6、布尔:\n\n```javascript\nconst age = 0;\n\n// bad\nconst hasAge = new Boolean(age);\n\n// good\nconst hasAge = Boolean(age);\n\n// good\nconst hasAge = !!age;\n```\n",[[1508303920619,["zhuzhanpeng@ZhuZhanpengdeMacBook-Air.local",[[-1,37,"1"],[1,38,"0"]],[37,38],[38,38]]],[1508303922550,["zhuzhanpeng@ZhuZhanpengdeMacBook-Air.local",[[-1,62,"1"]],[63,63],[62,62]]],[1508303922987,["zhuzhanpeng@ZhuZhanpengdeMacBook-Air.local",[[1,62,"0"]],[62,62],[63,63]]],[1508303925511,["zhuzhanpeng@ZhuZhanpengdeMacBook-Air.local",[[-1,229,"1"]],[230,230],[229,229]]],[1508303926076,["zhuzhanpeng@ZhuZhanpengdeMacBook-Air.local",[[1,229,"0"]],[229,229],[230,230]]],[1508303930080,["zhuzhanpeng@ZhuZhanpengdeMacBook-Air.local",[[-1,558,"1"]],[559,559],[558,558]]],[1508303930427,["zhuzhanpeng@ZhuZhanpengdeMacBook-Air.local",[[1,558,"0"]],[558,558],[559,559]]],[1508303933113,["zhuzhanpeng@ZhuZhanpengdeMacBook-Air.local",[[-1,779,"1"]],[780,780],[779,779]]],[1508303933700,["zhuzhanpeng@ZhuZhanpengdeMacBook-Air.local",[[1,779,"0"]],[779,779],[780,780]]],[1508303936239,["zhuzhanpeng@ZhuZhanpengdeMacBook-Air.local",[[-1,1143,"1"]],[1144,1144],[1143,1143]]],[1508303936583,["zhuzhanpeng@ZhuZhanpengdeMacBook-Air.local",[[1,1143,"0"]],[1143,1143],[1144,1144]]]]]]}